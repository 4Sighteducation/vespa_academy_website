---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Training | VESPA Academy - Professional Development & Student Workshops">
  <main class="overflow-hidden">
    <!-- Hero Section with Background Image -->
    <section class="relative py-24 bg-gradient-to-br from-theme-dark via-theme-primary to-theme-accent2 text-white">
      <div class="absolute inset-0 opacity-20">
        <div class="parallax-bg h-full w-full" data-speed="0.3"
          style="background-image: url('/images/untitled-3-1920x1272.png'); background-size: cover; background-position: center;">
        </div>
      </div>
      
      <div class="container mx-auto px-6 text-center relative z-10">
        <h1 class="text-5xl md:text-6xl font-extrabold mb-6 fade-in-up">
          VESPA <span class="gradient-text">Training</span>
        </h1>
        <p class="text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto mb-8 fade-in-up" style="animation-delay: 0.2s;">
          Transform your educational approach with our comprehensive training programs designed for staff development and student empowerment.
        </p>
        <button id="training-contact-btn" class="px-12 py-4 bg-gradient-to-r from-theme-secondary to-theme-accent1 text-theme-dark font-bold rounded-xl text-lg hover:scale-105 transition-transform shadow-xl fade-in-up" style="animation-delay: 0.4s;">
          Request Training Information
        </button>
      </div>
    </section>

    <!-- Staff Training Section -->
    <section class="py-24 bg-white">
      <div class="container mx-auto px-6">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-16 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-bold text-theme-dark mb-6">
              Staff <span class="text-effort">INSET Training</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
              Comprehensive professional development programs to empower your teaching staff with VESPA methodologies
            </p>
          </div>

          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Introduction to VESPA -->
            <div class="training-card fade-in-up" style="animation-delay: 0.1s;">
              <div class="training-icon bg-vision">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-theme-dark">Introduction to VESPA</h3>
              <p class="text-gray-600 mb-6">
                An overview of the VESPA model and the research behind it. Staff will explore practical strategies to help students maximise their exam performance.
              </p>
              <div class="training-features">
                <span class="feature-tag">Foundation Level</span>
                <span class="feature-tag">Research-Based</span>
              </div>
            </div>

            <!-- Coaching -->
            <div class="training-card fade-in-up" style="animation-delay: 0.2s;">
              <div class="training-icon bg-effort">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-theme-dark">Coaching</h3>
              <p class="text-gray-600 mb-6">
                Designed for schools that have completed the Introduction to VESPA. This session explores how to coach students using the VESPA model, with practical examples and resources.
              </p>
              <div class="training-features">
                <span class="feature-tag">Intermediate</span>
                <span class="feature-tag">Practical Focus</span>
              </div>
            </div>

            <!-- Implementation -->
            <div class="training-card fade-in-up" style="animation-delay: 0.3s;">
              <div class="training-icon bg-systems">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-theme-dark">Implementation</h3>
              <p class="text-gray-600 mb-6">
                For schools familiar with the VESPA model, this session focuses on effective implementation across the academic year. Staff will learn how to embed VESPA into the curriculum using a structured cycle.
              </p>
              <div class="training-features">
                <span class="feature-tag">Advanced</span>
                <span class="feature-tag">Curriculum Integration</span>
              </div>
            </div>

            <!-- Effective Coaching -->
            <div class="training-card fade-in-up" style="animation-delay: 0.4s;">
              <div class="training-icon bg-practice">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-theme-dark">Effective Coaching</h3>
              <p class="text-gray-600 mb-6">
                Focused on developing productive and impactful coaching conversations. Staff will learn how to guide students through meaningful dialogue that promotes ownership and motivation.
              </p>
              <div class="training-features">
                <span class="feature-tag">Communication</span>
                <span class="feature-tag">Student Engagement</span>
              </div>
            </div>

            <!-- Effective Goal Setting -->
            <div class="training-card fade-in-up" style="animation-delay: 0.5s;">
              <div class="training-icon bg-attitude">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                </svg>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-theme-dark">Effective Goal Setting</h3>
              <p class="text-gray-600 mb-6">
                This session explores how to help students set goals that are specific, challenging, and achievable. Staff will learn proven techniques for linking long-term vision with daily actions.
              </p>
              <div class="training-features">
                <span class="feature-tag">Goal Planning</span>
                <span class="feature-tag">Student Motivation</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Student Keynotes & Workshops Section -->
    <section class="py-24 bg-gradient-to-br from-gray-50 to-blue-50">
      <div class="container mx-auto px-6">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-16 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-bold text-theme-dark mb-6">
              Student <span class="text-practice">Keynotes & Workshops</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
              Engaging sessions designed to inspire and equip students with essential skills for academic success
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-12 items-center mb-16">
            <div class="fade-in-up" style="animation-delay: 0.2s;">
              <img src="/assets/questionniareimage1.jpg" alt="Students in workshop" class="rounded-2xl shadow-2xl hover:shadow-3xl transition-shadow">
            </div>
            <div class="space-y-8 fade-in-up" style="animation-delay: 0.3s;">
              <!-- Developing a VESPA Mindset -->
              <div class="student-session-card">
                <div class="session-icon bg-vision">
                  <span class="text-white font-bold text-xl">V</span>
                </div>
                <div>
                  <h3 class="text-2xl font-bold mb-3 text-theme-dark">Developing a VESPA Mindset</h3>
                  <p class="text-gray-600 mb-4">
                    Designed to foster proactive, independent learners. Delivered as an assembly or workshop, this session introduces VESPA through interactive activities. Suitable for Key Stages 3â€“5.
                  </p>
                  <div class="session-features">
                    <span class="session-tag">Assembly Format</span>
                    <span class="session-tag">Interactive</span>
                    <span class="session-tag">KS3-5</span>
                  </div>
                </div>
              </div>

              <!-- Revision & Study Skills -->
              <div class="student-session-card">
                <div class="session-icon bg-practice">
                  <span class="text-white font-bold text-xl">P</span>
                </div>
                <div>
                  <h3 class="text-2xl font-bold mb-3 text-theme-dark">Revision & Study Skills Workshops</h3>
                  <p class="text-gray-600 mb-4">
                    Tailored to your school's context, each session equips students with a research-informed study framework. Covers revision techniques, environment setup, and habit formation.
                  </p>
                  <div class="session-features">
                    <span class="session-tag">Tailored</span>
                    <span class="session-tag">Research-Based</span>
                    <span class="session-tag">Study Skills</span>
                  </div>
                </div>
              </div>

              <!-- Preparing for University -->
              <div class="student-session-card">
                <div class="session-icon bg-attitude">
                  <span class="text-white font-bold text-xl">A</span>
                </div>
                <div>
                  <h3 class="text-2xl font-bold mb-3 text-theme-dark">Preparing for University</h3>
                  <p class="text-gray-600 mb-4">
                    Targeted at end-of-Year 12 or start-of-Year 13 students. Led by an experienced university lecturer, this session explores the challenges and skills needed for higher education success.
                  </p>
                  <div class="session-features">
                    <span class="session-tag">University Focused</span>
                    <span class="session-tag">Expert Led</span>
                    <span class="session-tag">Year 12-13</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Training Pricing Section -->
    <section class="py-24 bg-gradient-to-b from-gray-50 to-white">
      <div class="container mx-auto px-6">
        <div class="max-w-5xl mx-auto">
          <div class="text-center mb-16 fade-in-up">
            <h2 class="text-4xl md:text-5xl font-bold text-theme-dark mb-6">
              Training <span class="text-systems">Investment</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
              Training costs vary depending on format, duration, timing, and group size. Indicative pricing below:
            </p>
          </div>

          <div class="pricing-table-container fade-in-up" style="animation-delay: 0.2s;">
            <div class="overflow-x-auto">
              <table class="pricing-table w-full">
                <thead>
                  <tr>
                    <th class="text-left">Format</th>
                    <th class="text-left">Duration</th>
                    <th class="text-right">From</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="font-semibold">Online Webinar</td>
                    <td>90 minutes</td>
                    <td class="text-right font-bold text-theme-secondary">Â£400</td>
                  </tr>
                  <tr>
                    <td class="font-semibold">Remote Workshop</td>
                    <td>Half day</td>
                    <td class="text-right font-bold text-effort">Â£800</td>
                  </tr>
                  <tr>
                    <td class="font-semibold">On-site Training</td>
                    <td>Hourly rate</td>
                    <td class="text-right font-bold text-practice">Â£500/hr*</td>
                  </tr>
                  <tr>
                    <td class="font-semibold">Bespoke Packages</td>
                    <td>Variable</td>
                    <td class="text-right font-bold text-attitude">Quote on request</td>
                  </tr>
                </tbody>
              </table>
            </div>
            
            <div class="mt-8 p-6 bg-gray-100 rounded-xl">
              <p class="text-sm text-gray-600 text-center">
                *Plus travel and VAT where applicable
              </p>
              <p class="text-sm text-gray-600 text-center mt-2">
                <em>Seasonal availability and group discounts may apply. Contact us for a proposal tailored to your requirements and budget.</em>
              </p>
            </div>
          </div>

          <div class="mt-12 text-center">
            <div class="inline-flex items-center justify-center p-6 bg-gradient-to-r from-theme-secondary/10 to-theme-accent1/10 rounded-2xl border-2 border-theme-secondary/30">
              <svg class="w-8 h-8 text-theme-secondary mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <p class="text-lg text-gray-700">
                <strong>Ready to get started?</strong><br>
                Contact us for a personalised quote and demonstration that shows exactly how our solution will work for your school.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 bg-gradient-to-r from-theme-primary to-theme-dark text-white">
      <div class="container mx-auto px-6 text-center">
        <h2 class="text-4xl font-bold mb-6 fade-in-up">Ready to Transform Your School?</h2>
        <p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto fade-in-up" style="animation-delay: 0.2s;">
          Join the many schools already using VESPA training to improve student outcomes and staff confidence.
        </p>
        <button id="training-contact-btn-2" class="px-12 py-4 bg-gradient-to-r from-theme-secondary to-theme-accent1 text-theme-dark font-bold rounded-xl text-lg hover:scale-105 transition-transform shadow-xl fade-in-up" style="animation-delay: 0.4s;">
          Request Training Information
        </button>
      </div>
    </section>

    <!-- Training Contact Modal -->
    <div id="training-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4" onclick="if(event.target === this) this.classList.add('hidden')">
      <div class="bg-gradient-to-br from-white to-gray-50 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden relative border border-gray-200">
        <!-- Close button -->
        <button onclick="document.getElementById('training-modal').classList.add('hidden')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 z-20 bg-white/80 backdrop-blur-sm rounded-full p-2 transition-all hover:scale-110">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
        
        <!-- Fixed Header -->
        <div class="bg-white p-8 pb-4 border-b border-gray-200">
          <div class="text-center">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-theme-secondary to-theme-accent1 rounded-full mb-4">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
              </svg>
            </div>
            <h2 class="text-3xl font-bold text-theme-dark mb-2">Training Request</h2>
            <p class="text-gray-600 text-sm">Complete the form below to request VESPA training</p>
          </div>
        </div>
        
        <!-- Scrollable Form Content -->
        <div class="overflow-y-auto max-h-[calc(90vh-200px)]">
          <form id="training-form" class="p-8 space-y-6">
            <!-- Basic Information -->
            <div class="space-y-4">
              <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                <span class="bg-theme-secondary text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">1</span>
                Contact Information
              </h3>
              
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">First Name *</label>
                  <input type="text" name="firstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Last Name *</label>
                  <input type="text" name="lastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Organisation *</label>
                <input type="text" name="organisation" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                <input type="email" name="email" required placeholder="john@example.com" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
              </div>
              
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Area Code</label>
                  <input type="text" name="areaCode" placeholder="+44" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                  <input type="tel" name="phoneNumber" placeholder="1234567890" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                </div>
              </div>
            </div>

            <!-- Training Type Selection -->
            <div class="space-y-4 border-t pt-6">
              <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                <span class="bg-theme-secondary text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">2</span>
                Training Type
              </h3>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">What type of training are you interested in? *</label>
                <select name="trainingType" id="training-type-select" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                  <option value="">Please select...</option>
                  <option value="staff-training">Staff Training Only</option>
                  <option value="student-training">Student Training Only</option>
                  <option value="both">Both Staff and Student Training</option>
                </select>
              </div>
            </div>

            <!-- Staff Training Details (Hidden by default) -->
            <div id="staff-training-section" class="space-y-4 border-t pt-6 hidden">
              <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                <span class="bg-effort text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">3</span>
                Staff Training Details
              </h3>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Session Type</label>
                <select name="staffSession" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                  <option value="">Please select...</option>
                  <option value="session1">SESSION 1 - Introduction to VESPA Model</option>
                  <option value="session2">SESSION 2 - Coaching Model / Follow Up</option>
                  <option value="session3">SESSION 3 - Implementation Models</option>
                  <option value="bespoke">Other / Bespoke</option>
                </select>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Bespoke Session Ideas (if applicable)</label>
                <input type="text" name="bespokeIdeas" placeholder="Describe your custom training needs..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
              </div>
              
              <div class="grid md:grid-cols-3 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Staff Numbers</label>
                  <input type="number" name="staffNumbers" min="1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Planned Date</label>
                  <input type="date" name="plannedDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                  <select name="locationPreference" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                    <option value="">Please select...</option>
                    <option value="on-site">On-site</option>
                    <option value="virtual">Virtual</option>
                    <option value="hybrid">Hybrid</option>
                  </select>
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Time</label>
                <div class="grid grid-cols-4 gap-2">
                  <select name="startHour" class="px-2 py-2 border border-gray-300 rounded">
                    <option value="">Start Hour</option>
                    <option value="09">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                  </select>
                  <select name="startMinute" class="px-2 py-2 border border-gray-300 rounded">
                    <option value="">Min</option>
                    <option value="00">00</option>
                    <option value="15">15</option>
                    <option value="30">30</option>
                    <option value="45">45</option>
                  </select>
                  <select name="endHour" class="px-2 py-2 border border-gray-300 rounded">
                    <option value="">End Hour</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                  </select>
                  <select name="endMinute" class="px-2 py-2 border border-gray-300 rounded">
                    <option value="">Min</option>
                    <option value="00">00</option>
                    <option value="15">15</option>
                    <option value="30">30</option>
                    <option value="45">45</option>
                  </select>
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Additional Information</label>
                <textarea name="additionalInfo" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent"></textarea>
              </div>
            </div>

            <!-- Student Training Details (Hidden by default) -->
            <div id="student-training-section" class="space-y-4 border-t pt-6 hidden">
              <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                <span class="bg-practice text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">4</span>
                Student Training Details
              </h3>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Session Type</label>
                <select name="studentSession" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                  <option value="">Please select...</option>
                  <option value="developing-mindset">1 - Developing a VESPA Mindset</option>
                  <option value="revision-workshop">2 - Revision Workshop</option>
                  <option value="university-prep">3 - Preparing for University Study</option>
                  <option value="bespoke">Bespoke Session</option>
                </select>
              </div>
              
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Student Age Group</label>
                  <select name="studentAge" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                    <option value="">Please select...</option>
                    <option value="ks3">Key Stage 3</option>
                    <option value="ks4">Key Stage 4</option>
                    <option value="ks5">Key Stage 5</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Student Numbers</label>
                  <input type="number" name="studentNumbers" min="1" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                </div>
              </div>
              
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                  <select name="studentLocationPreference" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                    <option value="">Please select...</option>
                    <option value="on-site">On-site</option>
                    <option value="virtual">Virtual</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Planned Date</label>
                  <input type="date" name="studentPlannedDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent">
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Additional Information / Bespoke Ideas</label>
                <textarea name="studentAdditionalInfo" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-theme-secondary focus:border-transparent"></textarea>
              </div>
            </div>

            					<!-- Submit Button - Always Visible -->
					<div class="border-t pt-6" style="display: block !important; visibility: visible !important; opacity: 1 !important;">
						<button type="submit" style="display: inline-flex !important; visibility: visible !important; opacity: 1 !important; width: 100% !important; justify-content: center !important; align-items: center !important;" class="w-full px-8 py-4 bg-gradient-to-r from-theme-secondary to-theme-accent1 text-theme-dark font-bold rounded-lg hover:scale-[1.02] transition-transform shadow-lg text-lg">
							Submit Training Request
						</button>
						<p class="text-xs text-gray-500 text-center mt-3">* Required fields</p>
					</div>
          </form>
        </div>
      </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
      <div class="bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 text-center transform transition-all duration-300 scale-95 opacity-0" id="success-modal-content">
        <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-green-400 to-green-600 rounded-full mb-6">
          <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
        
        <h3 class="text-2xl font-bold text-theme-dark mb-4">Success!</h3>
        <p class="text-gray-600 mb-6">Your training request has been submitted successfully. We'll contact you within 24-48 hours to discuss your requirements.</p>
        
        <button onclick="closeSuccessModal()" class="px-8 py-3 bg-gradient-to-r from-theme-secondary to-theme-accent1 text-theme-dark font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg">
          Close
        </button>
      </div>
    </div>
  </main>

  <style>
    /* Animation styles */
    .fade-in-up {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s ease-out forwards;
    }
    
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Gradient text */
    .gradient-text {
      @apply bg-gradient-to-r from-theme-secondary to-theme-accent1 bg-clip-text text-transparent;
    }

    /* Training card styles */
    .training-card {
      background: white;
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 8px 30px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      border: 1px solid #f1f5f9;
      height: 100%;
    }

    .training-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }

    .training-icon {
      width: 4rem;
      height: 4rem;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .training-features {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .feature-tag {
      background: #f1f5f9;
      color: #475569;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    /* Student session styles */
    .student-session-card {
      display: flex;
      gap: 1.5rem;
      padding: 1.5rem;
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .student-session-card:hover {
      transform: translateX(8px);
      box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    }

    .session-icon {
      width: 3rem;
      height: 3rem;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .session-features {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .session-tag {
      background: #e2e8f0;
      color: #475569;
      padding: 0.25rem 0.5rem;
      border-radius: 6px;
      font-size: 0.75rem;
      font-weight: 500;
    }

    /* Form styling improvements */
    input[type="checkbox"], input[type="radio"] {
      @apply w-5 h-5 text-theme-secondary bg-gray-100 border-gray-300 rounded focus:ring-theme-secondary;
    }

    input[type="checkbox"]:checked, input[type="radio"]:checked {
      @apply bg-theme-secondary border-theme-secondary;
    }

    label {
      @apply cursor-pointer;
    }

    /* Pricing table styles */
    .pricing-table {
      @apply bg-white rounded-xl shadow-lg overflow-hidden;
    }

    .pricing-table thead {
      @apply bg-gradient-to-r from-theme-primary to-theme-dark text-white;
    }

    .pricing-table th {
      @apply px-6 py-4 font-semibold text-sm uppercase tracking-wider;
    }

    .pricing-table tbody tr {
      @apply border-b border-gray-200 transition-colors hover:bg-gray-50;
    }

    .pricing-table tbody tr:last-child {
      @apply border-b-0;
    }

    .pricing-table td {
      @apply px-6 py-4;
    }

    /* Mobile responsive improvements */
    @media (max-width: 768px) {
      .training-card, .student-session-card {
        @apply transform-none;
      }

      .training-card:hover {
        transform: translateY(-4px);
      }

      .student-session-card:hover {
        transform: translateX(4px);
      }

      /* Fix slide deck responsiveness */
      iframe, object, embed {
        max-width: 100%;
        height: auto;
      }

      /* Fix heading sizes on mobile */
      h1 {
        @apply text-3xl;
      }

      h2 {
        @apply text-2xl;
      }

      h3 {
        @apply text-xl;
      }

      /* Improve form layout on mobile */
      .grid {
        @apply gap-4;
      }

      /* Pricing table mobile */
      .pricing-table {
        @apply text-sm;
      }

      .pricing-table th,
      .pricing-table td {
        @apply px-3 py-3;
      }
    }

    /* Force all buttons in modal to be visible */
    #training-modal button {
      opacity: 1 !important;
      visibility: visible !important;
    }

    /* Ensure modal content is visible */
    #training-modal .overflow-y-auto {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }

    /* Ultra-aggressive submit button visibility */
    button[type="submit"] {
      display: inline-flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
      z-index: 9999 !important;
      width: 100% !important;
      background: linear-gradient(to right, #FDB913, #FFD700) !important;
      color: #1a2269 !important;
      font-weight: bold !important;
      font-size: 1.125rem !important;
      padding: 1rem 2rem !important;
      border-radius: 0.5rem !important;
      cursor: pointer !important;
      transition: transform 0.2s !important;
    }

    button[type="submit"]:hover {
      transform: scale(1.02) !important;
    }

    /* Force parent container to show */
    .border-t.pt-6,
    #training-form > div:last-child,
    #training-form > div:has(button[type="submit"]) {
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
    }

    /* Remove any conflicting styles */
    #training-form * {
      max-height: none !important;
      overflow: visible !important;
    }
  </style>

  <script>
    // Training contact form functionality
    document.addEventListener('DOMContentLoaded', function() {
      const trainingModal = document.getElementById('training-modal');
      const trainingForm = document.getElementById('training-form');
      const trainingTypeSelect = document.getElementById('training-type-select');
      const staffSection = document.getElementById('staff-training-section');
      const studentSection = document.getElementById('student-training-section');

      // Open modal buttons
      document.getElementById('training-contact-btn').addEventListener('click', () => {
        console.log('Opening training modal...');
        trainingModal.classList.remove('hidden');
        
        // Debug: Check if submit button is visible after modal opens
        setTimeout(() => {
          const submitBtn = document.querySelector('#training-form button[type="submit"]');
          console.log('Submit button after modal open:', {
            exists: !!submitBtn,
            visible: submitBtn ? submitBtn.offsetParent !== null : false,
            text: submitBtn ? submitBtn.textContent.trim() : 'N/A'
          });
        }, 100);
      });
      
      document.getElementById('training-contact-btn-2').addEventListener('click', () => {
        console.log('Opening training modal (button 2)...');
        trainingModal.classList.remove('hidden');
        
        // Debug: Check if submit button is visible after modal opens
        setTimeout(() => {
          const submitBtn = document.querySelector('#training-form button[type="submit"]');
          console.log('Submit button after modal open:', {
            exists: !!submitBtn,
            visible: submitBtn ? submitBtn.offsetParent !== null : false,
            text: submitBtn ? submitBtn.textContent.trim() : 'N/A'
          });
        }, 100);
      });

      // Handle training type selection
      trainingTypeSelect.addEventListener('change', function() {
        const selectedValue = this.value;
        
        // Hide all sections first
        staffSection.classList.add('hidden');
        studentSection.classList.add('hidden');
        
        // Show relevant sections based on selection
        if (selectedValue === 'staff-training' || selectedValue === 'both') {
          staffSection.classList.remove('hidden');
        }
        
        if (selectedValue === 'student-training' || selectedValue === 'both') {
          studentSection.classList.remove('hidden');
        }
      });

      // Form submission
      trainingForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Validate that training type is selected
        if (!trainingTypeSelect.value) {
          alert('Please select a training type.');
          trainingTypeSelect.focus();
          return;
        }
        
        const formData = new FormData(trainingForm);
        const data = {};
        
        // Convert FormData to object
        for (let [key, value] of formData.entries()) {
          if (value && value.trim() !== '') {  // Only include non-empty values
            data[key] = value;
          }
        }

        try {
          console.log('Submitting training request data:', data);
          
          // Show loading state on submit button
          const submitBtn = e.target.querySelector('button[type="submit"]');
          const originalText = submitBtn.textContent;
          submitBtn.disabled = true;
          submitBtn.textContent = 'Submitting...';
          
          const response = await fetch('/api/send-training-request', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
          });

          const result = await response.json();
          
          if (response.ok) {
            // Show success modal
            const successModal = document.getElementById('success-modal');
            const successModalContent = document.getElementById('success-modal-content');
            
            successModal.classList.remove('hidden');
            setTimeout(() => {
              successModalContent.classList.remove('scale-95', 'opacity-0');
              successModalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
            
            // Reset form and close modal
            trainingModal.classList.add('hidden');
            trainingForm.reset();
            staffSection.classList.add('hidden');
            studentSection.classList.add('hidden');
          } else {
            throw new Error(result.error || 'Failed to submit request');
          }
        } catch (error) {
          console.error('Error submitting training request:', error);
          alert('There was an error submitting your request. Please try again or contact us directly at info@vespa.academy');
        } finally {
          // Reset submit button
          const submitBtn = e.target.querySelector('button[type="submit"]');
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.textContent = 'Submit Training Request';
          }
        }
      });

      // Close modal when clicking outside
      trainingModal.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.add('hidden');
        }
      });

      // Debug: Check submit button visibility
      console.log('Training Page: Checking for submit button...');
      const submitButton = document.querySelector('#training-form button[type="submit"]');
      if (submitButton) {
        console.log('Submit button found:', {
          text: submitButton.textContent.trim(),
          visible: submitButton.offsetParent !== null,
          display: window.getComputedStyle(submitButton).display,
          visibility: window.getComputedStyle(submitButton).visibility,
          opacity: window.getComputedStyle(submitButton).opacity,
          parent: submitButton.parentElement,
          parentDisplay: submitButton.parentElement ? window.getComputedStyle(submitButton.parentElement).display : 'N/A'
        });
        
        // Force the submit button to be visible
        submitButton.style.display = 'inline-flex !important';
        submitButton.style.visibility = 'visible !important';
        submitButton.style.opacity = '1 !important';
        submitButton.style.position = 'relative !important';
        submitButton.style.zIndex = '9999 !important';
        
        // Also force parent to be visible
        if (submitButton.parentElement) {
          submitButton.parentElement.style.display = 'block !important';
          submitButton.parentElement.style.visibility = 'visible !important';
          submitButton.parentElement.style.opacity = '1 !important';
        }
      } else {
        console.error('Submit button NOT FOUND!');
        
        // Check if the form exists
        const form = document.getElementById('training-form');
        console.log('Form exists:', !!form);
        if (form) {
          console.log('Form children:', form.children.length);
          console.log('Last child of form:', form.lastElementChild);
        }
      }
    });

    // Close success modal function
    function closeSuccessModal() {
      const successModal = document.getElementById('success-modal');
      const successModalContent = document.getElementById('success-modal-content');
      
      successModalContent.classList.add('scale-95', 'opacity-0');
      successModalContent.classList.remove('scale-100', 'opacity-100');
      
      setTimeout(() => {
        successModal.classList.add('hidden');
      }, 300);
    }
  </script>
</Layout> 